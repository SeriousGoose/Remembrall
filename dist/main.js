(()=>{"use strict";let e,t,n,l,a,o,c,i,d,r,s,m,u=[["default",[]]],y=[],p=document.createElement("div"),g=[];function f(e,t,n,l){null==e&&(t=JSON.stringify(n),localStorage.setItem(l,t))}document.addEventListener("click",(()=>{e=JSON.stringify(d),t=JSON.stringify(r),l=JSON.stringify(s),n=JSON.stringify(m),localStorage.setItem("classArray",e),localStorage.setItem("categoryNames",t),localStorage.setItem("allToDos",n),localStorage.setItem("toDoId",l)}));class E{constructor(e,t,n,l,a){this.title=e,this.description=t,this.category=n,this.date=l,this.id=a}}function h(e){let t=!0,n=document.createElement("div");if(n.classList.add("toDoItems"),""!=e.title){let l=document.createElement("div");l.classList.add("toDoButtons"),n.appendChild(l),toDoList.appendChild(n);let a=document.createElement("button"),o="âœ“";a.classList.add("completeButton"),a.textContent=o,l.appendChild(a);let c=document.createElement("div");c.textContent=e.title,n.appendChild(c);let i=document.createElement("button");i.classList.add("detailsButton"),i.textContent="Show More",l.append(i);let r=document.createElement("div");if(""!=e.date){let t=document.createElement("div");t.textContent="Due Date: "+e.date,r.appendChild(t)}if("default"!=e.category){let t=document.createElement("div");t.textContent="Category: "+e.category,r.appendChild(t)}if(""!=e.description){let t=document.createElement("div");t.textContent="Description: "+e.description,r.appendChild(t)}i.addEventListener("click",(()=>{1==t?(t=!1,i.textContent="Show Less",n.appendChild(r)):0==t&&(t=!0,i.textContent="Show More",n.removeChild(r))})),a.addEventListener("click",(()=>{var t,l;l=e,(t=n).addEventListener("click",(()=>{t.innerHTML="",t.style.display="flex",t.style.justifyContent="space-evenly";let e=document.createElement("div");e.innerHTML="Task Completed?",t.appendChild(e);let n=document.createElement("button");n.textContent="Yes",t.appendChild(n);let a=document.createElement("button");a.textContent="No",t.appendChild(a),n.addEventListener("click",(()=>{t.remove(),d.forEach((e=>e[1].forEach((t=>function(e,t){if(t.id==l.id){let n=e.indexOf(t);e.splice(n,1),x()}}(e[1],t))))),C()})),a.addEventListener("click",(()=>{w()}))}))}))}}function v(e){let t=document.createElement("div");t.classList.add("categoryItems"),t.style.justifyContent="space-between",catList.appendChild(t);let n=document.createElement("div");if(n.classList.add("categoryNames"),n.textContent=e,t.appendChild(n),"default"!=e){let n=document.createElement("button");n.classList.add("categoryRemove"),n.textContent="-",t.appendChild(n),n.addEventListener("click",(()=>{var n,l;l=e,(n=t).addEventListener("click",(()=>{n.innerHTML="",n.style.display="flex",n.style.justifyContent="space-evenly";let e=document.createElement("div");e.innerHTML="Remove Category?",n.appendChild(e);let t=document.createElement("button");t.textContent="Yes",n.appendChild(t);let a=document.createElement("button");a.textContent="No",n.appendChild(a),t.addEventListener("click",(()=>{n.remove();for(let e=0;e<d.length;e++)d[e][0]==l&&(d.splice(e,1),x(),w(),k()),C(),N()})),a.addEventListener("click",(()=>{k()}))}))}))}n.addEventListener("click",(()=>{p.style.display="block",function(e){for(let t=0;t<d.length;t++)d[t][0]==e&&(toDoList.innerHTML="",d[t][1].forEach((e=>h(e))))}(e)}))}function C(){let e=new Date,t=[];remembrall.style.color="rgba(0, 89, 255, 0.815)";for(let e=0;e<d.length;e++)for(let n=0;n<d[e][1].length;n++)""!=d[e][1][n].date&&t.push(new Date(d[e][1][n].date));0==t.every((function(t){return t.getTime()+72e4*t.getTimezoneOffset()>=e.getTime()}))&&(remembrall.style.color="red")}function L(){m.sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())),d.forEach((e=>e[1].sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))))}function S(e){let t=document.createElement("option");t.classList.value=e,t.textContent=e,itemClass.appendChild(t)}function I(){modal.style.display="none",categoryModal.style.display="none"}function T(){p.classList.add("categoryItems"),p.textContent="Show All",catList.prepend(p)}function D(){p.style.display="none"}function k(){catList.innerHTML="",d.forEach((e=>v(e[0])))}function x(){m=[],d.forEach((e=>e[1].forEach((e=>m.push(e)))))}function w(){toDoList.innerHTML="",m.forEach((e=>h(e)))}function N(){itemClass.innerHTML="",d.forEach((e=>S(e[0])))}!function(){let p=localStorage.getItem("classArray"),E=localStorage.getItem("categoryNames"),h=localStorage.getItem("allToDos"),v=localStorage.getItem("toDoId");f(p,e,u,"classArray"),f(E,t,y,"categoryNames"),f(h,n,g,"allToDos"),f(v,l,1,"toDoId"),a=JSON.parse(localStorage.getItem("classArray")),o=JSON.parse(localStorage.getItem("categoryNames")),c=JSON.parse(localStorage.getItem("allToDos")),i=JSON.parse(localStorage.getItem("toDoId")),d=a,r=o,s=i,m=c}(),document.querySelectorAll("div").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("input").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("button").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("select").forEach((e=>{document.getElementById("element")})),formSubmit.addEventListener("click",(()=>{let e=new E(title.value,description.value,itemClass.value,date.value,s);if(""!=e.title)return d.forEach((t=>{e.category==t[0]&&t[1].push(e)})),x(),newForm.reset(),L(),w(),I(),C(),s++})),newToDo.addEventListener("click",(()=>{modal.style.display="inline"})),formCancel.addEventListener("click",(()=>{newForm.reset(),I()})),addCategory.addEventListener("click",(()=>{categoryModal.style.display="inline"})),categorySubmit.addEventListener("click",(()=>{if(""!=categoryTitle.value&&function(e){r=[];for(let e=0;e<d.length;e++){let t=d[e][0];r.push(t)}return r.every((t=>t!=e))}(categoryTitle.value)){let e=categoryTitle.value;d.push([e,[]])}else alert("Please Enter a Valid Category");newCategory.reset(),T(),D(),k(),N(),categoryModal.style.display="none"})),categoryCancel.addEventListener("click",(()=>{newCategory.reset(),I()})),I(),T(),D(),p.addEventListener("click",(()=>{D(),L(),w(),I()})),C(),null!=m&&w(),null!=d&&(d.forEach((e=>v(e[0]))),d.forEach((e=>S(e[0]))))})();