(()=>{"use strict";let e=[["default",[]]],t=[],n=document.createElement("div"),l=0,o=[];function i(){let t=new Date,n=[];remembrall.style.color="white",console.log(t);for(let t=0;t<e.length;t++)for(let l=0;l<e[t][1].length;l++)""!=e[t][1][l].date&&(console.log(e[t][1][l].date),n.push(new Date(e[t][1][l].date)));0==n.every((function(e){return e.getTime()+72e4*e.getTimezoneOffset()>=t.getTime()}))&&(console.log(e),console.log(n),remembrall.style.color="red")}function a(){o.sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())),e.forEach((e=>e[1].sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))))}class d{constructor(e,t,n,l,o){this.title=e,this.description=t,this.category=n,this.date=l,this.id=o}}function c(t){let n=!0,l=document.createElement("div");if(l.classList.add("toDoItems"),""!=t.title){let a=document.createElement("div");l.appendChild(a),toDoList.appendChild(l);let d=document.createElement("button");d.textContent="Complete",a.appendChild(d);let r=document.createElement("div");r.textContent=t.title,l.appendChild(r);let s=document.createElement("button");s.textContent="+ Show Details",a.append(s);let m=document.createElement("div");if(""!=t.date){let e=document.createElement("div");e.textContent="Due Date: "+t.date,m.appendChild(e)}if("default"!=t.category){let e=document.createElement("div");e.textContent="Category: "+t.category,m.appendChild(e)}if(""!=t.description){let e=document.createElement("div");e.textContent="Description: "+t.description,m.appendChild(e)}s.addEventListener("click",(()=>{1==n?(n=!1,s.textContent="-Hide Details",l.appendChild(m)):0==n&&(n=!0,s.textContent="+ Show Details",l.removeChild(m))})),d.addEventListener("click",(()=>{var n,a;a=t,(n=l).addEventListener("click",(()=>{n.innerHTML="",n.style.display="flex",n.style.justifyContent="space-evenly";let t=document.createElement("div");t.innerHTML="Task Completed?",n.appendChild(t);let l=document.createElement("button");l.textContent="Yes",n.appendChild(l);let d=document.createElement("button");d.textContent="No",n.appendChild(d),l.addEventListener("click",(()=>{n.remove();for(let t=0;t<e.length;t++)if(-1!=e[t][1].indexOf(a)){let n=e[t][1].indexOf(a);e[t][1].splice(n,1)}i()})),d.addEventListener("click",(()=>{toDoList.innerHTML="",o.forEach((e=>c(e)))}))}))}))}}function r(t){let n=document.createElement("div");n.classList.add("categoryItems"),n.style.justifyContent="space-between",catList.appendChild(n);let l=document.createElement("div");if(l.classList.add("categoryNames"),l.textContent=t,n.appendChild(l),"default"!=t){let l=document.createElement("button");l.classList.add("categoryRemove"),l.textContent="-",n.appendChild(l),l.addEventListener("click",(()=>{var l,o;o=t,(l=n).addEventListener("click",(()=>{l.innerHTML="",l.style.display="flex",l.style.justifyContent="space-evenly";let t=document.createElement("div");t.innerHTML="Remove Category?",l.appendChild(t);let n=document.createElement("button");n.textContent="Yes",l.appendChild(n);let a=document.createElement("button");a.textContent="No",l.appendChild(a),n.addEventListener("click",(()=>{l.remove();for(let t=0;t<e.length;t++)e[t][0]==o&&(e.splice(t,1),catList.innerHTML="",toDoList.innerHTML="",e.forEach((e=>e[1].forEach((e=>c(e))))),e.forEach((e=>r(e[0])))),i()})),a.addEventListener("click",(()=>{catList.innerHTML="",e.forEach((e=>r(e[0])))}))}))}))}l.addEventListener("click",(()=>{p();for(let n=0;n<e.length;n++)e[n][0]==t&&(toDoList.innerHTML="",e[n][1].forEach((e=>c(e))))}))}function s(){modal.style.display="none",categoryModal.style.display="none"}function m(){n.classList.add("categoryItems"),n.textContent="Show All",catList.prepend(n)}function u(){n.style.display="none"}function p(){n.style.display="block"}document.querySelectorAll("div").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("input").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("button").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("select").forEach((e=>{document.getElementById("element")})),formSubmit.addEventListener("click",(()=>{let t=new d(title.value,description.value,itemClass.value,date.value,l);if(""!=t.title)return e.forEach((e=>{t.category==e[0]&&e[1].push(t)})),o=[],e.forEach((e=>e[1].forEach((e=>o.push(e))))),newForm.reset(),a(),toDoList.innerHTML="",o.forEach((e=>c(e))),s(),i(),l++})),newToDo.addEventListener("click",(()=>{modal.style.display="inline"})),formCancel.addEventListener("click",(()=>{newForm.reset(),s()})),addCategory.addEventListener("click",(()=>{categoryModal.style.display="inline"})),categorySubmit.addEventListener("click",(()=>{if(""!=categoryTitle.value&&function(n){t=[];for(let n=0;n<e.length;n++){let l=e[n][0];t.push(l)}return t.every((e=>e!=n))}(categoryTitle.value)){let t=categoryTitle.value;e.push([t,[]])}newCategory.reset(),catList.innerHTML="",m(),u(),e.forEach((e=>r(e[0]))),itemClass.innerHTML="",e.forEach((e=>function(e){let t=document.createElement("option");t.classList.value=e,t.textContent=e,itemClass.appendChild(t)}(e[0]))),categoryModal.style.display="none"})),categoryCancel.addEventListener("click",(()=>{newCategory.reset(),s()})),s(),m(),p(),u(),n.addEventListener("click",(()=>{u(),a(),toDoList.innerHTML="",o.forEach((e=>c(e))),s()})),i()})();