(()=>{"use strict";let e=[["default",[]]],t=[],n=document.createElement("div"),l=0;function o(){let t=new Date,n=[];remembrall.style.color="white",e.forEach((e=>e[1].forEach((e=>n.push(new Date(e.date)))))),0==n.every((function(e){return e.getTime()>t.getTime()}))&&(remembrall.style.color="red")}function i(){e.forEach((e=>e[1].sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))))}class a{constructor(e,t,n,l,o){this.title=e,this.description=t,this.category=n,this.date=l,this.id=o}}function c(t){let n=!0,l=document.createElement("div");if(l.classList.add("toDoItems"),""!=t.title){let i=document.createElement("div");l.appendChild(i),toDoList.appendChild(l);let a=document.createElement("button");a.textContent="Complete",i.appendChild(a);let d=document.createElement("div");d.textContent=t.title,l.appendChild(d);let r=document.createElement("button");r.textContent="+ Show Details",i.append(r);let s=document.createElement("div");if(""!=t.date){let e=document.createElement("div");e.textContent="Due Date: "+t.date,s.appendChild(e)}if("default"!=t.category){let e=document.createElement("div");e.textContent="Category: "+t.category,s.appendChild(e)}if(""!=t.description){let e=document.createElement("div");e.textContent="Description: "+t.description,s.appendChild(e)}r.addEventListener("click",(()=>{console.log(n),1==n?(n=!1,r.textContent="-Hide Details",l.appendChild(s)):0==n&&(n=!0,r.textContent="+ Show Details",l.removeChild(s))})),a.addEventListener("click",(()=>{var n,i;i=t,(n=l).addEventListener("click",(()=>{n.innerHTML="",n.style.display="flex",n.style.justifyContent="space-evenly";let t=document.createElement("div");t.innerHTML="Task Completed?",n.appendChild(t);let l=document.createElement("button");l.textContent="Yes",n.appendChild(l);let a=document.createElement("button");a.textContent="No",n.appendChild(a),l.addEventListener("click",(()=>{n.remove();for(let t=0;t<e.length;t++)if(-1!=e[t][1].indexOf(i)){let n=e[t][1].indexOf(i);e[t][1].splice(n,1)}o(),console.log(e)})),a.addEventListener("click",(()=>{toDoList.innerHTML="",e.forEach((e=>e[1].forEach((e=>c(e)))))}))}))}))}}function d(){modal.style.display="none",categoryModal.style.display="none"}function r(){n.classList.add("categoryItems"),n.textContent="Show All",catList.prepend(n)}function s(){n.style.display="none"}function m(){n.style.display="block"}document.querySelectorAll("div").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("input").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("button").forEach((e=>{document.getElementById("element")})),document.querySelectorAll("select").forEach((e=>{document.getElementById("element")})),formSubmit.addEventListener("click",(()=>{let t=new a(title.value,description.value,itemClass.value,date.value,l);return e.forEach((e=>{t.category==e[0]&&e[1].push(t)})),newForm.reset(),i(),toDoList.innerHTML="",e.forEach((e=>e[1].forEach((e=>c(e))))),d(),o(),l++})),newToDo.addEventListener("click",(()=>{modal.style.display="inline"})),formCancel.addEventListener("click",(()=>{newForm.reset(),d()})),addCategory.addEventListener("click",(()=>{categoryModal.style.display="inline"})),categorySubmit.addEventListener("click",(()=>{if(""!=categoryTitle.value&&function(n){t=[];for(let n=0;n<e.length;n++){let l=e[n][0];t.push(l)}return t.every((e=>e!=n))}(categoryTitle.value)){let t=categoryTitle.value;e.push([t,[]])}newCategory.reset(),catList.innerHTML="",r(),s(),e.forEach((t=>function(t){let n=document.createElement("div");n.classList.add("categoryItems"),n.textContent=t,catList.appendChild(n),n.addEventListener("click",(()=>{m();for(let n=0;n<e.length;n++)e[n][0]==t&&(toDoList.innerHTML="",e[n][1].forEach((e=>c(e))))}))}(t[0]))),itemClass.innerHTML="",e.forEach((e=>function(e){let t=document.createElement("option");t.classList.value=e,t.textContent=e,itemClass.appendChild(t)}(e[0]))),categoryModal.style.display="none"})),categoryCancel.addEventListener("click",(()=>{newCategory.reset(),d()})),d(),r(),m(),s(),n.addEventListener("click",(()=>{s(),i(),toDoList.innerHTML="",e.forEach((e=>e[1].forEach((e=>c(e))))),d()})),o()})();